.\" -*- nroff -*-
.\" Licensed under the OpenIB.org BSD license (FreeBSD Variant) - See COPYING.md
.\"
.TH UMAD_GET_CAS_PAIRS 3  "May 21, 2007" "OpenIB" "OpenIB Programmer's Manual"
.SH "NAME"
umad_get_ca_pair_by_name \- get SMI/GSI pair ca and port nums based on device name and portnum.
 the given portnum addresses a port in the given device name (might be smi or gsi).
.SH "SYNOPSIS"
.nf
.B #include <infiniband/umad.h>
.sp
.BI "int umad_get_ca_pair_by_name(const char * " "devname" ", uint8_t " "portnum" ", umad_ca_pair_t " "*ca" );
.fi
.SH "DESCRIPTION"
.B umad_get_ca_pair_by_name()
fills argument
.I ca
with found ca according to name and portnum given in
.I devname
and
.I portnum
arguments
.I portnum
is the port number of a port in
.I dev name.
.nf
.I umad_ca_pair_t as specified in  <infiniband/umad.h>.
.PP
.nf
typedef struct umad_ca_pair {
.in +1
umad_ca_pair_item_t smi;
.in +0
umad_ca_pair_item_t gsi;
.in -2
} umad_ca_pair;
.nf
.nf
typedef struct umad_ca_pair_item {
.in +1
	char         name[UMAD_CA_NAME_LEN];
.in +0
	uint32_t     ports[UMAD_CA_MAX_PORTS];
.in +0
	uint32_t     numports;
.in +0
	uint32_t     preferred_port;
.in -2
} umad_ca_pair_item_t;
.fi
.PP

.SH "RETURN VALUE"
.B umad_get_ca_pair_by_name()
returns 0 if a device and ports were found, 1 otherwise

.SH "AUTHORS"
.TP
Asaf Mazor <amazor@nvidia.com>
